{"version":3,"file":"4.c578efe710a9da4a98bf.hot-update.js","sources":["webpack:///utils/threejs/threeEntryPoint.js"],"sourcesContent":["import SceneManager from './SceneManager';\nimport { TimelineMax, Linear } from 'gsap';\n\nexport default container => {\n  const canvas = createCanvas(document, container);\n  const sceneManager = new SceneManager(canvas);\n  const freeze = true;\n  const deg = Math.PI / 180;\n  const cubeAnimation = new TimelineMax();\n  cubeAnimation.from(window.pivot.rotation, 1, { z:(40 * deg), x: (-10 * deg) }).pause();\n  cubeAnimation.from(window.cubeGroup.rotation, 1, { y:(245 * deg) }, '-=1').pause();\n  cubeAnimation.from(window.cubeGroup.position, 1, { z: -5, y: 0.1 }, '-=1').pause();\n\n  let canvasHalfWidth;\n  let canvasHalfHeight;\n  let canvasOffsetTop;\n\n\n  bindEventListeners();\n  render();\n  sceneManager.update();\n\n  function createCanvas(document, container) {\n    const canvas = document.createElement('canvas');\n    container.appendChild(canvas);\n    getCanvasPosition(canvas);\n    return canvas;\n  }\n\n  function bindEventListeners() {\n    window.onresize = resizeCanvas;\n    window.onscroll = scrollCanvas;\n    window.onclick = mouseClick;\n\n    resizeCanvas();\n  }\n\n  function resizeCanvas() {\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n\n    canvasHalfWidth = Math.round(canvas.offsetWidth / 2);\n    canvasHalfHeight = Math.round(canvas.offsetHeight / 2);\n\n    sceneManager.onWindowResize();\n  }\n\n\n  function getCanvasPosition(element) {\n    let yPosition = 0;\n    while(element) {\n      yPosition += (element.offsetTop - element.scrollTop + element.clientTop);\n      element = element.offsetParent;\n    }\n    canvasOffsetTop = yPosition;\n  }\n\n\n  function scrollCanvas(e) {\n    const delt = canvasOffsetTop - window.scrollY + 100;\n\n    if (delt < (canvas.offsetHeight)) {\n      const r = ((delt * 100) / canvas.offsetHeight) / 100;\n      // console.log(r);\n      cubeAnimation.progress(1-r);\n\n    }\n\n    sceneManager.update();\n  }\n\n\n  function mouseMove() {\n    sceneManager.update();\n  }\n  function mouseClick() {\n    sceneManager.update();\n  }\n\n  function render(time) {\n    requestAnimationFrame(render);\n    !freeze ? sceneManager.update() : false;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// utils/threejs/threeEntryPoint.js"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApFA;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}